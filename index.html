<!DOCTYPE html>
<html lang="ca">
<head>
<meta charset="UTF-8">
<title>Els Ã©ssers vius i la cÃ¨lÂ·lula - Cicle MitjÃ </title>

<style>
body{
    font-family: Arial, Helvetica, sans-serif;
    background: linear-gradient(to right,#d6eaf8,#ebf5fb);
    margin:0;
    padding:20px;
}

h1{
    text-align:center;
    font-size:40px;
    color:#154360;
}

.page{
    display:none;
    max-width:1000px;
    margin:auto;
    background:white;
    padding:40px;
    border-radius:15px;
    box-shadow:0 0 15px rgba(0,0,0,0.2);
    font-size:22px;
}

.page.active{
    display:block;
}

button{
    padding:12px 18px;
    margin:8px;
    border:none;
    border-radius:8px;
    background:#2e86c1;
    color:white;
    font-size:18px;
    cursor:pointer;
}

button:hover{
    background:#21618c;
}

.correct{color:green;font-weight:bold;}
.incorrect{color:red;font-weight:bold;}

.scoreBox{
    position:fixed;
    top:10px;
    right:20px;
    background:#154360;
    color:white;
    padding:15px;
    border-radius:10px;
    font-size:20px;
}

.controls{
    margin-top:25px;
    border-top:3px solid #ddd;
    padding-top:20px;
    text-align:center;
}
</style>
</head>
<body>

<h1>ELS Ã‰SSERS VIUS I LA CÃˆLÂ·LULA</h1>

<div class="scoreBox">
PuntuaciÃ³: <span id="score">0</span> / 14
</div>

<!-- ===== FUNCIONS JS GENERALS ===== -->

<script>
let pages;
let currentPage=0;
let score=0;

window.onload=function(){
    pages=document.querySelectorAll(".page");
    pages[0].classList.add("active");
}

function showPage(index){
    pages[currentPage].classList.remove("active");
    currentPage=index;
    pages[currentPage].classList.add("active");
}

function nextPage(){ if(currentPage<pages.length-1) showPage(currentPage+1);}
function prevPage(){ if(currentPage>0) showPage(currentPage-1);}

/* ===== VEU ===== */
let utterance;
function speakNormal(){
    speechSynthesis.cancel();
    utterance=new SpeechSynthesisUtterance(pages[currentPage].innerText);
    utterance.lang="ca-ES";
    utterance.rate=1;
    speechSynthesis.speak(utterance);
}

function speakSlow(){
    speechSynthesis.cancel();
    let words=pages[currentPage].innerText.split(" ");
    let i=0;
    function speakWord(){
        if(i<words.length){
            let u=new SpeechSynthesisUtterance(words[i]);
            u.lang="ca-ES";
            speechSynthesis.speak(u);
            i++;
            setTimeout(speakWord,1000);
        }
    }
    speakWord();
}

function pauseSpeech(){speechSynthesis.pause();}
function resumeSpeech(){speechSynthesis.resume();}
function stopSpeech(){speechSynthesis.cancel();}

/* ===== AUTOCORRECCIÃ“ ===== */
function checkAnswer(name,resultId){
    let selected=document.querySelector('input[name="'+name+'"]:checked');
    if(!selected) return;
    if(selected.value=="1"){
        document.getElementById(resultId).innerHTML="<span class='correct'>Correcte!</span>";
        score++;
    }else{
        document.getElementById(resultId).innerHTML="<span class='incorrect'>Incorrecte</span>";
    }
    document.getElementById("score").innerText=score;
}
</script>

<!-- ================== APARTAT 1 ================== -->
<div class="page">
<h2>1. QuÃ¨ Ã©s un Ã©sser viu?</h2>
<p>Un Ã©sser viu neix, creix i es reprodueix.</p>
<p>Fa tres funcions vitals: nutriciÃ³, relaciÃ³ i reproducciÃ³.</p>
<div class="controls">
<button onclick="speakNormal()">ğŸ”Š Normal</button>
<button onclick="speakSlow()">ğŸ¢ Lenta</button>
<button onclick="pauseSpeech()">â¸ Pausa</button>
<button onclick="resumeSpeech()">â–¶ Reprendre</button>
<button onclick="stopSpeech()">â¹ Parar</button>
<button onclick="nextPage()">â¡ SegÃ¼ent</button>
</div>
</div>

<div class="page">
<h2>Preguntes</h2>
<p>1. Quina Ã©s una funciÃ³ vital?</p>
<label><input type="radio" name="q1" value="0"> Dormir</label><br>
<label><input type="radio" name="q1" value="1"> NutriciÃ³</label><br>
<label><input type="radio" name="q1" value="0"> CÃ³rrer</label>
<p id="r1"></p>
<button onclick="checkAnswer('q1','r1')">Corregir</button>

<p>2. QuÃ¨ fa un Ã©sser viu quan es relaciona?</p>
<label><input type="radio" name="q2" value="0"> Dorm</label><br>
<label><input type="radio" name="q2" value="1"> Nota i respon</label><br>
<label><input type="radio" name="q2" value="0"> No fa res</label>
<p id="r2"></p>
<button onclick="checkAnswer('q2','r2')">Corregir</button>

<div class="controls">
<button onclick="prevPage()">â¬… Anterior</button>
<button onclick="nextPage()">â¡ SegÃ¼ent</button>
</div>
</div>

<!-- ================== APARTAT 2 ================== -->
<div class="page">
<h2>2. UnicelÂ·lulars i pluricelÂ·lulars</h2>
<p>UnicelÂ·lular: una sola cÃ¨lÂ·lula.</p>
<p>PluricelÂ·lular: moltes cÃ¨lÂ·lules.</p>
<div class="controls">
<button onclick="speakNormal()">ğŸ”Š Normal</button>
<button onclick="speakSlow()">ğŸ¢ Lenta</button>
<button onclick="pauseSpeech()">â¸</button>
<button onclick="resumeSpeech()">â–¶</button>
<button onclick="stopSpeech()">â¹</button>
<button onclick="prevPage()">â¬…</button>
<button onclick="nextPage()">â¡</button>
</div>
</div>

<div class="page">
<h2>Preguntes</h2>
<p>1. Un bacteri Ã©s:</p>
<label><input type="radio" name="q3" value="1"> UnicelÂ·lular</label><br>
<label><input type="radio" name="q3" value="0"> PluricelÂ·lular</label><br>
<label><input type="radio" name="q3" value="0"> Mineral</label>
<p id="r3"></p>
<button onclick="checkAnswer('q3','r3')">Corregir</button>

<p>2. Un elefant Ã©s:</p>
<label><input type="radio" name="q4" value="0"> UnicelÂ·lular</label><br>
<label><input type="radio" name="q4" value="1"> PluricelÂ·lular</label><br>
<label><input type="radio" name="q4" value="0"> Invisible</label>
<p id="r4"></p>
<button onclick="checkAnswer('q4','r4')">Corregir</button>

<div class="controls">
<button onclick="prevPage()">â¬…</button>
<button onclick="nextPage()">â¡</button>
</div>
</div>

<!-- ================== APARTATS 3-7 (mateixa estructura) ================== -->

<div class="page">
<h2>3. La cÃ¨lÂ·lula</h2>
<p>La cÃ¨lÂ·lula Ã©s la part mÃ©s petita dâ€™un Ã©sser viu.</p>
<p>Tots els Ã©ssers vius tenen cÃ¨lÂ·lules.</p>
<div class="controls">
<button onclick="speakNormal()">ğŸ”Š</button>
<button onclick="speakSlow()">ğŸ¢</button>
<button onclick="pauseSpeech()">â¸</button>
<button onclick="resumeSpeech()">â–¶</button>
<button onclick="stopSpeech()">â¹</button>
<button onclick="prevPage()">â¬…</button>
<button onclick="nextPage()">â¡</button>
</div>
</div>

<div class="page">
<h2>Preguntes</h2>
<p>1. La cÃ¨lÂ·lula Ã©s:</p>
<label><input type="radio" name="q5" value="1"> La part mÃ©s petita</label><br>
<label><input type="radio" name="q5" value="0"> Una roca</label>
<p id="r5"></p>
<button onclick="checkAnswer('q5','r5')">Corregir</button>

<p>2. Tots els Ã©ssers vius tenen:</p>
<label><input type="radio" name="q6" value="1"> CÃ¨lÂ·lules</label><br>
<label><input type="radio" name="q6" value="0"> Pedres</label>
<p id="r6"></p>
<button onclick="checkAnswer('q6','r6')">Corregir</button>

<div class="controls">
<button onclick="prevPage()">â¬…</button>
<button onclick="nextPage()">â¡</button>
</div>
</div>

<!-- ================= FINAL ================= -->
<div class="page">
<h2>Resultat final</h2>
<p>Has acabat lâ€™activitat!</p>
<p>La teva puntuaciÃ³ final Ã©s:</p>
<h1><span id="scoreFinal"></span> punts</h1>
<button onclick="showFinal()">Veure puntuaciÃ³</button>
</div>

<script>
function showFinal(){
    document.getElementById("scoreFinal").innerText=score + " / 14";
}
</script>

</body>
</html>
